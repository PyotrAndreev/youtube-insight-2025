# youtube-insight-2025-


# Анализ трендов на YouTube для бизнеса

Анализ актуальных трендов на YouTube помогает бизнесу находить популярные темы, создавать востребованный контент и эффективно продвигать свою продукцию или услуги.

## Что получает клиент?

- **Инструменты для мониторинга трендов и популярного контента.**  
- **Анализ популярных запросов и интересов аудитории.**  
- **Метрики вовлеченности для прогнозирования успеха видео.**  
- **Возможности для таргетинга и сотрудничества с инфлюенсерами.**  

## Основные этапы анализа  

### 1. Использование инструментов YouTube

- **YouTube Trends и Trending** – отслеживание актуальных видео и тем.  
- **YouTube Analytics** – анализ популярности видео, ключевых слов и демографии аудитории.  

### 2. Исследование Google Trends  

- Анализ популярности поисковых запросов на YouTube.  
- Прогнозирование сезонных и долгосрочных трендов.  

### 3. Использование сторонних сервисов  

- **VidIQ, Social Blade, TubeBuddy** – углубленный анализ ключевых слов, конкурентов и эффективности контента.  

### 4. Мониторинг комментариев и хештегов  

- Анализ комментариев для выявления интересов аудитории.  
- Использование популярных хештегов для поиска трендов.  

### 5. Определение популярных форматов и тем  

- Анализ востребованных типов контента:  
  - Влоги  
  - Обзоры  
  - Челленджи  
  - Технологии  
  - Здоровье и другие  

### 6. Оценка метрик вовлеченности  

- Анализ просмотров, лайков, времени просмотра и комментариев.  
- Прогнозирование эффективности контента на основе данных вовлеченности.  

### 7. Применение трендов в бизнесе  

- Создание контента на основе актуальных тем.  
- Оптимизация рекламных кампаний и таргетинга.  
- Сотрудничество с популярными блогерами и инфлюенсерами.  

## YouTube Shorts: Как использовать для роста бизнеса

### Что такое YouTube Shorts?

YouTube Shorts – это короткие вертикальные видео продолжительностью до 60 секунд, которые помогают авторам и бизнесу быстро привлекать внимание аудитории. Shorts работают аналогично TikTok и Reels, позволяя создавать динамичный и вовлекающий контент.

### Преимущества использования Shorts

1. **Быстрый рост аудитории**  
   - Shorts показываются в отдельной ленте рекомендаций.  
   - Алгоритмы YouTube активно продвигают короткие видео.  

2. **Простота создания контента**  
   - Минимальные требования к съемке и монтажу.  
   - Можно снимать прямо в приложении YouTube и сразу загружать.  

3. **Высокая вовлеченность**  
   - Короткие видео удерживают внимание зрителей дольше.  
   - Активное взаимодействие: лайки, комментарии, подписки.  

4. **Дополнительные возможности монетизации**  
   - Фонд Shorts (Shorts Fund) выплачивает авторам за популярные видео.  
   - Включение рекламы в Shorts приносит доход.  

5. **Расширение охвата и узнаваемости бренда**  
   - Формат подходит для продвижения товаров и услуг.  
   - Shorts позволяют быстро протестировать контент и оценить его популярность.  

### Как использовать Shorts для бизнеса

1. **Создавайте короткие, информативные и увлекательные видео**  
   - Демонстрируйте товары и услуги в действии.  
   - Рассказывайте о преимуществах продукта в 30-60 секундах.  

2. **Используйте тренды и популярные хештеги**  
   - Анализируйте актуальные тренды в YouTube Shorts.  
   - Добавляйте популярные хештеги для увеличения охвата.  

3. **Призывайте к действию (CTA)**  
   - Добавляйте призыв к подписке, лайку или посещению сайта.  
   - Используйте текст на экране для привлечения внимания.  

4. **Оптимизируйте заголовки и описания**  
   - Используйте ключевые слова, чтобы Shorts попадали в поиск.  
   - Описание должно содержать CTA и полезную информацию.  

5. **Публикуйте регулярно**  
   - Shorts работают лучше при частых публикациях (2-3 раза в неделю).  
   - Анализируйте статистику и адаптируйте контент.

# Video Processing Toolkit

Набор скриптов и библиотек для автоматического скачивания, обработки, нарезки и анализа видео, а также генерации коротких “шортсов” и превью с использованием GPT-моделей и DeepSeek API.

---

## Содержание

- [Особенности](#особенности)  
- [Требования](#требования)  
- [Структура проекта](#структура-проекта)  
- [Конфигурация](#конфигурация)  
- [Использование](#использование)  
  - [Видео-обработка и шортсы](#видео-обработка-и-шортсы)  
  - [Генерация превью](#генерация-превью)  
  - [Пакетная обработка транскриптов](#пакетная-обработка-транскриптов)  
  - [Профилирование функций](#профилирование-функций)  
- [Тестирование](#тестирование)  
---

## Особенности

- **Скачивание видео** из YouTube (с помощью `yt-dlp`).  
- **Нарезка** на сегменты и создание шортсов (MoviePy + FFmpeg).  
- **Анализ аудио** (Librosa): поиск RMS-пиков, классификация сигналов (голос, смех, музыка).  
- **Генерация превью** (15–30 секунд) с помощью GPT (Ollama) и/или статики.  
- **Интеграция DeepSeek API** для оценки “популярности” аудио-сегментов.  
- **Сервис транскрибирования** YouTube-видео и пакетная обработка транскриптов через GPT.  
- **Профилирование** ключевых функций (cProfile + pstats).  

---

## Требования

- Python ≥ 3.8  
- FFmpeg (доступен в PATH)  
- `yt-dlp`  
- `moviepy`  
- `librosa`, `numpy`, `soundfile`  
- `requests`  
- `youtube-transcript-api`  
- Ollama CLI (для `GPTServiceOllama`)  
- Дополнительно: доступ к DeepSeek API (ключ)  

Установить зависимости можно через `pip`:

```bash
pip install -r requirements.txt
```

_Пример `requirements.txt`_:

```text
yt-dlp
moviepy
librosa
numpy
soundfile
requests
youtube-transcript-api
ollama-cli  # либо другой клиент для Ollama
```

---

## Структура проекта

```
.
├── audio_analysis.py          # извлечение RMS, темпа, классификация сигналов
├── videosplit.py              # VideoCutter: скачивание, сегментация, создание шортсов
├── video_processor.py         # Конвейер: загрузка → транскрипт → анализ → нарезка
├── preview_service.py         # Генерация 15–30-секундных превью
├── extract_batch.py           # Пакетная обработка .txt транскриптов в timecodes.json
├── gpt_service.py             # GPTServiceOllama: генерация таймкодов через Ollama
├── deepseek_integration.py    # Интеграция с DeepSeek API
├── service.py                 # TranscriptService: загрузка и сохранение транскриптов
├── saver.py                   # TranscriptionSaver: сохранение текстов и сегментов
├── profile_functions.py       # Обёртки для профилирования (cProfile)
├── test_preview_service.py    # Unit-тесты для PreviewService
└── p.py                       # Пример быстрого теста VideoCutter
```

---

## Конфигурация

1. **API-ключи и пути**  
   - OpenAI/Ollama: настроить CLI и модель (по умолчанию `llama3`).  
2. **Каталоги** (по умолчанию создаются автоматически):  
   - `downloads/` — для скачанных видео.  
   - `video_segments/` — для промежуточных сегментов.  
   - `processed_shorts/` — для итоговых шортсов.  
   - `transcriptions/` — для текстовых файлов транскриптов.  

---

## Использование

- **Маркетинговые агентства** — автоматизация создания коротких тизеров и превью для соцсетей.
- **Блогеры и инфлюенсеры** — быстрое нарезание ключевых моментов видео и генерация интересных шортсов.
- **Новости и медиа** — оперативное конвертирование полных выпусков в короткие дайджесты.
- **Подкасты и стримы** — автоматическое создание тизеров и анонсов из аудиоматериалов.
- **Разработчики и исследователи** — анализ аудиофрагментов и экспериментальные обработки при помощи GPT-моделей.
### Видео-обработка и шортсы

```bash
python video_processor.py https://www.youtube.com/watch?v=ВАШ_ID_ВИДЕО
```

или программно:

```python
from video_processor import VideoProcessor
from service import TranscriptService
from gpt_service import GPTServiceOllama

processor = VideoProcessor(
    video_url="https://…",
    transcript_service=TranscriptService(),
    gpt_service=GPTServiceOllama()
)
shorts = processor.process()
print("Созданы шортсы:", shorts)
```

### Генерация превью

```python
from preview_service import PreviewService
from videosplit import VideoCutter
from gpt_service import GPTServiceOllama

cutter = VideoCutter(output_dir="shorts", download_dir="dl")
gpt = GPTServiceOllama()
svc = PreviewService(cutter=cutter, gpt_service=gpt, use_gpt=True, max_duration=30)

preview = svc.create_preview(
    video_path=Path("dl/ВАШ_ID.mp4"),
    video_id="ВАШ_ID"
)
print("Превью создано:", preview)
```

### Пакетная обработка транскриптов

```bash
# Положите .txt файлы в папку `transcriptions/`
python extract_batch.py
```

Результатом будут `.json` файлы с таймкодами и метаданными.

### Профилирование функций

```bash
python profile_functions.py
```

Профилирование сохранит отчёты в:
- `download_video_profile.txt`  
- `create_short_profile.txt`  
- `get_transcript_profile.txt`  
- `extract_timecodes_profile.txt`  

---

## Тестирование

```bash
# Убедитесь, что в окружении установлены зависимости.
pytest test_preview_service.py
```

---

## Анализ рекламных интеграций в видео

### Описание идеи

Идея заключается в том, чтобы проанализировать YouTube-видео блогеров, собрать ссылки на рекламируемые продукты или услуги из описаний под видео, и систематизировать 
эту информацию в таблицу. Это позволит понять, какие компании и продукты рекламируются у популярных блогеров, и кто из блогеров сотрудничает с какими брендами.

### Чем может быть полезно

1. **Монетизация канала**
   - Ютуберы могут использовать собранные данные для поиска потенциальных рекламодателей. Зная, какие компании уже сотрудничали с блогерами в схожей нише, можно предложить им свои услуги.

2. **Увеличение доходов**
   - Получив доступ к информации о стоимости рекламных интеграций у других блогеров, ютуберы смогут более точно оценивать стоимость своих услуг и заключать выгодные контракты.

3. **Анализ конкуренции**
   - Понимая, у кого из коллег больше всего рекламных контрактов, можно адаптировать контент-стратегию, чтобы привлечь внимание рекламодателей.

4. **Построение репутации**
   - Если ютубер часто упоминается в контексте успешных рекламных кампаний, это повышает его репутацию среди брендов и увеличивает шансы на получение новых предложений.

5. **Оптимизация контента**
   - Анализируя успешные рекламные интеграции, можно понять, какой тип контента лучше всего подходит для размещения рекламы, и адаптировать свои выпуски соответствующим образом.

### Какой результат
Потребителю будет представлена таблица со следующими колонками:
   - компания 
   - продукт 
   - блогер 
   - ссылка

## Анализ комментариев под видео для лучшего понимания запросов аудитории

### Основная идея 

Идея заключается в анализе комментариев под видео на YouTube с целью кластеризации их по темам, тонам и интересам. Это позволяет выделить ключевые темы, которые волнуют аудиторию, понять их предпочтения, а также выявить возможные улучшения для контента. Кластеризация комментариев помогает структурировать обратную связь и выделить основные запросы зрителей.

### Чем может быть полезно

1. **Понимание интересов аудитории** 
   - Ютубер сможет точно определить, какие темы, форматы или аспекты контента наиболее интересны его зрителям.

2. **Улучшение контента** 
   - На основе анализа можно адаптировать будущие видео, чтобы они лучше соответствовали ожиданиям аудитории.

3. **Увеличение вовлеченности** 
   - Зная, что хочет видеть аудитория, можно создавать более релевантный контент, что повысит лайки, комментарии и просмотры.

4. **Выявление проблем** 
   - Анализ поможет выявить возможные негативные моменты или критические замечания, которые можно устранить.

5. **Идеи для новых видео**
   - Кластеризация комментариев может подсказать новые темы или направления для контента, которые запрашивает аудитория.

### Какой результат

1. **Кластеризированные темы** 
   - Потребитель получит четкое разделение комментариев на группы (например, "похвалы", "критика", "запросы на новые темы", "вопросы" и т.д.).

2. **Рекомендации** 
   - На основе анализа будут предложены конкретные шаги для улучшения контента (например, "зрители хотят больше видео про X", "аудитория просит улучшить качество звука").

3. **Список запросов** 
   - Перечень тем или идей, которые чаще всего упоминаются в комментариях и могут быть использованы для создания новых видео.

4. **Анализ тональности** 
   - Потребитель увидит, какой процент комментариев положительный, нейтральный или отрицательный, что поможет оценить общее настроение аудитории.

## Анализ видео у конкурентов 

### Основная идея 

Идея заключается в исследовании конкретной темы на YouTube путем анализа видео других блогеров, которые уже публиковали контент на эту тему. Мы изучаем их результаты: количество просмотров, лайков, комментариев и других метрик. Это позволяет понять, какие форматы, подходы и аспекты темы наиболее востребованы аудиторией, а какие не нашли отклика. На основе этого анализа можно сделать выводы о трендах, предпочтениях зрителей и успешных стратегиях.

### Чем может быть полезно

1. **Понимание трендов** 
   - Ютубер узнает, какие аспекты темы наиболее популярны у аудитории, и сможет адаптировать свой контент под эти запросы.

2. **Оценка конкуренции**
   - Анализ покажет, кто из блогеров уже освещает эту тему, какие видео набрали больше всего просмотров и вовлеченности, что поможет выделиться на их фоне.

3. **Идеи для улучшения** 
   - На основе успешных примеров можно понять, какие форматы, длительность, стиль подачи или дополнительные элементы (графика, монтаж) работают лучше всего.

4. **Избежание ошибок**
   - Анализ неудачных видео поможет избежать повторения чужих ошибок и создать более качественный контент.

5. **Оптимизация стратегии**
   - Ютубер сможет определить, какие темы или подходы в рамках выбранной ниши еще недостаточно раскрыты, и занять эту нишу.

### Какой результат

1. **Список блогеров**
   - Перечень авторов, которые уже публиковали видео на данную тему, с указанием их каналов и количества подписчиков.

2. **Анализ метрик**
   - Таблицы или графики с данными по просмотрам, лайкам, дизлайкам, комментариям и другим показателям для каждого видео.

3. **Рейтинг успешности**
   - Ранжирование видео по уровню вовлеченности (например, соотношение лайков/просмотров).

4. **Выводы по форматам**
   - Информация о том, какие форматы видео (обзоры, инструкции, развлекательный контент и т.д.) получили наибольший отклик.

5. **Рекомендации**
   - Конкретные советы по созданию контента на основе анализа успешных и неудачных примеров (например, "зрители предпочитают короткие видео с практическими советами").

## Техническая часть

### comments_clustering.py
**Функционал:**
   - Очистка и предобработка текста (удаление стоп-слов, лемматизация)

   - Векторизация с помощью SentenceTransformer (paraphrase-multilingual-MiniLM-L12-v2)

   - Кластеризация K-Means с визуализацией t-SNE 
   
   - Анализ центров кластеров и ключевых слов

**Какой результат:**

Из базы по введенному id вытаскиваем комментарии под видео. Кластеризуем. Выводим диаграмму с кластерами, 
для каждого из которых его центр, топ-3 ближайших комментария. 

А также метрики для проверки, насколько кластеризация качественна:
   - Silhouette Score (чем ближе к 1, тем лучше)
   - Calinski-Harabasz Index (чем выше, тем лучше)
   - Davies-Bouldin Index (чем ближе к 0, тем лучше)

### comments_summary.py

Использует Ollama с моделью Llama3. В функцию передается список комментариев и выводится
их саммари.

### diagrams_connected_with_comments.py

**Реализованы следующие функции:**
   - Визуализация средней длины комментариев по каналам в виде столбчатой диаграммы
   - Визуализация зависимости количества комментариев от длины комментария
   - Визуализация зависимости количества комментариев от длины видео

### engagement.py

**Реализованы следующие функции**
   - Отображение столбчатой диаграммы с сортировкой каналов по вовлеченности (лайки + комментарии)/просмотры
   - Построение двух отдельных графиков (лайки и комментарии) с сортировкой каналов или видео из разных категорий по вовлеченности,
    где вовлеченность = (лайки + комментарии) / просмотры

### clustering.py

Аналогично кластеризации комментариев

### correlation.py
**Сбор данных:**
   - Получение информации о видео через VideoRepository
   - Извлечение метаданных (название, длительность и т.д.)

**Подготовка данных:**
   - Создание DataFrame с ключевыми метриками

**Корреляционный анализ:**
   - Построение матрицы корреляций
   - Визуализация результатов с тепловой картой

**Результат:**
   - Красный цвет указывает на сильную положительную корреляцию
   - Синий цвет - на сильную отрицательную корреляцию
   - Более светлые оттенки - на слабые связи

### diagrams.py

Реализованы функция для построения точечного 
и линейного графиков зависимости длительности видео от количества просмотров

### parsing_find_channel_id.py
**Извлечение Channel ID:**
   - Парсинг HTML страницы видео
   - Поиск Channel ID с помощью регулярных выражений

**Работа с базой данных:**
   - Проверка существования канала в БД
   - Сохранение новых каналов

### update_video_channel_id.py
**Установка связей видео с каналами:**
   - Находит все каналы в базе данных
   - Для каждого канала находит все его видео
   - Обновляет поле channel_id у видео, где оно равно None

### update_new_columns.py
**Работа с API:**
   - get_channel_stats() - Получает статистику канала из YouTube API
   - get_video_info() - (Временно отключено) Получает детальную информацию о видео

**Работа с базой данных:**
   - print_channel_info() - Обновляет данные канала в базе
   - print_video_info() - (Временно отключено) Обновляет данные видео

**Основной процесс:**
   - Перебирает все каналы в базе данных
   - Запрашивает текущую статистику для каждого канала
   - Обновляет записи в базе данных

### search_for_similar_videos.py

**Поиск похожих видео:**
   - Вычисление косинусовой схожести между эмбеддингами
   - Фильтрация по минимальному количеству лайков
   - Выбор топ-3 наиболее похожих видео. Для каждого видео выводится рейтинг вовлеченности, лайки,
комментарии, просмотры

### helper.py
**Основные функции**
   - Анализ по категориям
      - get_video_info_by_category() - собирает статистику по официальным категориям YouTube
      - Возвращает:
        - Список категорий
        - Общее количество просмотров
        - Общее количество лайков
        - Общее количество комментариев

   - Анализ по каналам
     - get_video_info_by_channel() - агрегирует данные по каналам
     - Может фильтровать по категории (или анализировать все категории при category_id=-1)
     - Возвращает:   
       - Названия каналов
       - Просмотры
       - Лайки
       - Общую длину комментариев
       - Количество комментариев

   - Анализ по пользовательским тематикам
     - get_video_info_by_manual_category() - анализирует видео по заданным тематикам
     - Возвращает:
       - Просмотры
       - Лайки
       - Количество комментариев 
